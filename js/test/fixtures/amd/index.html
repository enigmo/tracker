<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>amd</title>
  <meta name="description" content="test that td-js-sdk works alongside require.js"></meta>
  <script src="/dist/td.js"></script>
  <script data-main="/fixtures/amd/main.js" src="/assets/requirejs/require.js"></script>
</head>
<body>

<h1 id='status' style="text-align: center;">running</h1>
<h1 id='rjs' style="text-align: center;">running</h1>

<script type="text/javascript">
  (function () {
    function setBackground (color) {
      document.body.style.background = color
    }

    function setStatus (text) {
      document.getElementById('status').innerHTML = text
    }

    var td = new Treasure({
      database: 'test_db_request',
      writeKey: '91/96da3cfb876cc50724d0dddef670d95eea2a0018',
      host: 'in-staging.treasuredata.com'
    })

    td.trackEvent('track_event', {date_string: (new Date()).toString()}, function () {
      setBackground('green')
      setStatus('success')
    }, function () {
      setBackground('red')
      setStatus('failure')
    })
  })()
</script>
</body>
</html>
